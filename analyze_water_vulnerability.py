import json

cities = ['Tashkent', 'Nukus', 'Termez', 'Jizzakh']
print("Water Vulnerability Analysis by City:")
print("=" * 50)

for city in cities:
    with open(f'suhi_analysis_output/social_sector/{city}_social_sector.json', 'r', encoding='utf-8') as f:
        data = json.load(f)
        water_sources = data['summary']['sanitation_indicators']['water_sources']
        vuln_index = data['summary']['sanitation_indicators']['water_vulnerability_index']

        print(f"{city}:")
        print(f"  Centralized: {water_sources['centralized']}%")
        print(f"  Local: {water_sources['local']}%")
        print(f"  Carried: {water_sources['carried']}%")
        print(f"  None: {water_sources['none']}%")
        print(f"  Vulnerability Index: {vuln_index}")
        print()
